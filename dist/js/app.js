var CommentApp={URL:"https://jsonplaceholder.typicode.com",COMMENT_ID:"0",EMAIL_REGEX:/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/,ERROR_TEXT_CL:".error-text",init:function(){CommentApp.getComments(),CommentApp.onSend($(".btn-add")),CommentApp.scrollToTop()},getComments:function(){$.ajax({url:CommentApp.URL+"/comments",method:"GET",success:function(e){console.log(e),CommentApp.drawComments(e)},error:function(){console.log("Getting comment error!")}})},drawComments:function(e){CommentApp.COMMENT_ID++;var t="";t+='<div class="mui-col-xs-10 mui-col-xs-offset-1 padding0">',t+='<div class="mui-row comment-box">';for(var o=0;o<14;o++)t+='<div class="comment-detail mui-col-md-4 mui-col-xs-6">',t+='<div class="flex-column data-box">',t+='<a href="#" class="btn-delete"><i class="fa fa-trash" aria-hidden="true" onclick="CommentApp.removeComments('+e[o].id+', event.target)"></a></i>',t+='<span class="name">'+e[o].name+"</span>",t+='<span class="body"><q>'+e[o].body+"</q></span>",t+='<span class="email">'+e[o].email+"</span>",t+="</div>",t+="</div>";t+="</div>",t+="</div>",$(".comments-section").append(t)},removeComments:function(e,t){$.ajax({url:CommentApp.URL+"/posts/"+e,type:"DELETE",success:function(){$(t).closest(".comment-detail").remove()},error:function(){console.log("Removing comment error")}})},onSend:function(e){$(e).on("click",function(t){CommentApp.validation(e),CommentApp.getFormData($(".mui-form"))})},resetForm:function(){setTimeout(function(){$(".mui-form")[0].reset()},2e3)},getInputValue:function(e){CommentApp.COMMENT_ID++;var t="",o=CommentApp.getFormData($(".mui-form"));t+='<div class="comment-detail mui-col-md-4 mui-col-xs-6">',t+='<div class="flex-column data-box">',t+='<a href="#" class="btn-delete"><i class="fa fa-trash" aria-hidden="true" onclick="CommentApp.removeComments('+CommentApp.COMMENT_ID+', event.target)"></a></i>',t+='<span class="name">'+o.name+"</span>",t+='<span class="body"><q>'+o.comment+"</q></span>",t+='<span class="email">'+o.email+"</span>",t+="</div>",t+="</div>",$(".comment-box").prepend(t)},getFormData:function(e){e=e.serializeArray();var t={};return $.each(e,function(e,o){t[o.name]=o.value}),t},validation:function(e){var t=CommentApp.getFormData($(".mui-form"));return""!=t.name&&""!=t.comment&&""!=t.name.email&&t.email.match(CommentApp.EMAIL_REGEX)?(CommentApp.destroyMessage(),CommentApp.getInputValue(e),CommentApp.resetForm(),void 0):(CommentApp.throwError(),!1)},throwError:function(){$(CommentApp.ERROR_TEXT_CL).fadeIn("fast")},destroyMessage:function(){$(CommentApp.ERROR_TEXT_CL).fadeOut("slow")},scrollToTop:function(){$("a[href='#top']").on("click",function(){return $("html, body").animate({scrollTop:0},"slow"),!1})}};$(document).ready(function(){CommentApp.init()});var userApp={URL:"https://jsonplaceholder.typicode.com",init:function(){userApp.getUsers()},getUsers:function(){$.ajax({url:CommentApp.URL+"/users",method:"GET",success:function(e){console.log(e),userApp.drawUsers(e)},error:function(){console.log("Getting data error!")}})},drawUsers:function(e){var t="";t+='<div class="mui-col-xs-12 mui-col-md-offset-1 mui-col-md-10">',t+='<table class="mui-table">',t+="<thead>",t+="<tr>",t+="<th>Name</th>",t+="<th>Email</th>",t+="<th>Phone</th>",t+="<th>Website</th>",t+="<th></th>",t+="</tr>",t+="</thead>",t+="<tbody>";for(var o=0;o<e.length;o++)t+="<tr>",t+='<td><span class="name">'+e[o].name+"</span></td>",t+='<td><span class="email">'+e[o].email+"</span></td>",t+='<td><span class="phone">'+e[o].phone+"</span></td>",t+='<td><span class="website">'+e[o].website+"</span></td>",t+='<td><a href="#" class="go-to" onclick="userApp.removeUsers('+e[o].id+', event.target)">Hide</a></tr></tr>',t+="</tr>";t+="</tbody>",t+="</table>",t+="</div>",$(".user-subpage-content").append(t)},removeUsers:function(e,t){$.ajax({url:userApp.URL+"/users/"+e,type:"DELETE",success:function(){$(t).closest("tr").remove()},error:function(){console.log("error")}})}};$(document).ready(function(){userApp.init()});
//# sourceMappingURL=app.js.map
