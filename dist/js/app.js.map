{"version":3,"sources":["script.js"],"names":["CommentApp","URL","COMMENT_ID","EMAIL_REGEX","ERROR_TEXT_CL","init","getComments","onSend","$","scroll","ajax","url","method","success","response","console","log","drawComments","error","comments","box","i","id","name","body","email","append","removeComments","e","event","preventDefault","closest","remove","btn","on","validation","resetForm","setTimeout","reset","getInputValue","block","inputValue","titleValue","parent","find","val","commentValue","emailValue","prepend","match","destroyMessage","throwError","fadeIn","fadeOut","animate","scrollTop","document","ready"],"mappings":"AAIA,GAAAA,aAEAC,IAAA,uCACAC,WAAA,IACAC,YAAA,oDACAC,cAAA,cAGAC,KAAA,WACAL,WAAAM,cACAN,WAAAO,OAAAC,EAAA,aACAR,WAAAS,UAKAH,YAAA,WACAE,EAAAE,MACAC,IAAAX,WAAAC,IAAA,YACAW,OAAA,MACAC,QAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAd,WAAAiB,aAAAH,IAEAI,MAAA,WACAH,QAAAC,IAAA,2BAKAC,aAAA,SAAAE,GACAnB,WAAAE,YACA,IAAAkB,GAAA,EACAA,IAAA,2DACAA,GAAA,mCACA,KAAA,GAAAC,GAAA,EAAAA,EAAA,GAAAA,IACAD,GAAA,yDACAA,GAAA,+BACAA,GAAA,+GAAAD,EAAAE,GAAAC,GAAA,4BACAF,GAAA,sBAAAD,EAAAE,GAAAE,KAAA,UACAH,GAAA,yBAAAD,EAAAE,GAAAG,KAAA,cACAJ,GAAA,uBAAAD,EAAAE,GAAAI,MAAA,UACAL,GAAA,SACAA,GAAA,QAGAA,IAAA,SACAA,GAAA,SACAZ,EAAA,qBAAAkB,OAAAN,IAGAO,eAAA,SAAAL,EAAAM,GACAC,MAAAC,iBACAtB,EAAAoB,GAAAG,QAAA,mBAAAC,UAGAzB,OAAA,SAAA0B,GACAzB,EAAAyB,GAAAC,GAAA,QAAA,SAAAN,GACA5B,WAAAmC,WAAAF,MAIAG,UAAA,WACAC,WAAA,WACA7B,EAAA,aAAA,GAAA8B,SACA,MAGAC,cAAA,SAAAN,GACAjC,WAAAE,YACA,IAAAsC,GAAA,GACAC,GACAC,WAAAlC,EAAAyB,GAAAU,SAAAC,KAAA,oBAAAC,MACAC,aAAAtC,EAAAyB,GAAAU,SAAAC,KAAA,uBAAAC,MACAE,WAAAvC,EAAAyB,GAAAU,SAAAC,KAAA,qBAAAC,MAEAL,IAAA,0FACAA,GAAA,uGAAAxC,WAAAE,WAAA,4BACAsC,GAAA,sBAAAC,EAAAC,WAAA,UACAF,GAAA,yBAAAC,EAAAK,aAAA,cACAN,GAAA,uBAAAC,EAAAM,WAAA,UACAP,GAAA,SAEAhC,EAAA,gBAAAwC,QAAAR,IAGAL,WAAA,SAAAF,GACA,MAAA,IAAAzB,EAAAyB,GAAAU,SAAAC,KAAA,oBAAAC,OACA,IAAArC,EAAAyB,GAAAU,SAAAC,KAAA,uBAAAC,OACA,IAAArC,EAAAyB,GAAAU,SAAAC,KAAA,qBAAAC,OACArC,EAAAyB,GAAAU,SAAAC,KAAA,qBAAAC,MAAAI,MAAAjD,WAAAG,cAIAH,WAAAkD,iBACAlD,WAAAuC,cAAAN,GACAjC,WAAAoC,YAFApC,SAHAA,WAAAmD,cACA,IAQAA,WAAA,WACA3C,EAAAR,WAAAI,eAAAgD,OAAA,SAGAF,eAAA,WACA1C,EAAAR,WAAAI,eAAAiD,QAAA,SAGA5C,OAAA,WACAD,EAAA,kBAAA0B,GAAA,QAAA,WAEA,MADA1B,GAAA,cAAA8C,SAAAC,UAAA,GAAA,SACA,KAKA/C,GAAAgD,UAAAC,MAAA,WACAzD,WAAAK","file":"app.js","sourcesContent":["/**\r\n * Created by Micha≈Ç_2 on 2017-03-07.\r\n */\r\n\r\nvar CommentApp = {\r\n    //variables\r\n    URL: 'https://jsonplaceholder.typicode.com',\r\n    COMMENT_ID: '0',\r\n    EMAIL_REGEX: /^[\\w\\-\\.\\+]+\\@[a-zA-Z0-9\\.\\-]+\\.[a-zA-z0-9]{2,4}$/,\r\n    ERROR_TEXT_CL: '.error-text',\r\n\r\n    //init\r\n    init: function () {\r\n        CommentApp.getComments();\r\n        CommentApp.onSend($('.btn-add'));\r\n        CommentApp.scroll();\r\n    },\r\n\r\n\r\n    //function\r\n    getComments: function () {\r\n        $.ajax({\r\n            url: CommentApp.URL + '/comments',\r\n            method: 'GET',\r\n            success: function (response) {\r\n                console.log(response);\r\n                CommentApp.drawComments(response);\r\n            },\r\n            error: function () {\r\n                console.log('Getting data error!')\r\n            }\r\n        });\r\n    },\r\n\r\n    drawComments: function (comments) {\r\n        CommentApp.COMMENT_ID++;\r\n        var box = \"\";\r\n        box += '<div class=\"mui-col-xs-10 mui-col-xs-offset-1 padding0\">';\r\n        box += '<div class=\"mui-row comment-box\">';\r\n        for (var i = 0; i < 14; i++) {\r\n            box += '<div class=\"comment-detail mui-col-md-4 mui-col-xs-5\">';\r\n            box += '<div class=\"flex-container\">';\r\n            box += '<a href=\"#\" class=\"btn-delete\"><i class=\"fa fa-trash\" aria-hidden=\"true\" onclick=\"CommentApp.removeComments(' + comments[i].id + ', event.target)\"></a></i>';\r\n            box += '<span class=\"name\">' + comments[i].name + '</span>';\r\n            box += '<span class=\"body\"><q>' + comments[i].body + '</q></span>';\r\n            box += '<span class=\"email\">' + comments[i].email + '</span>';\r\n            box += '</div>';\r\n            box += '</div>';\r\n        }\r\n\r\n        box += '</div>';\r\n        box += '</div>';\r\n        $('.comments-section').append(box);\r\n    },\r\n\r\n    removeComments: function (id, e) {\r\n        event.preventDefault();\r\n        $(e).closest('.comment-detail').remove();\r\n    },\r\n\r\n    onSend: function (btn) {\r\n        $(btn).on('click', function (e) {\r\n            CommentApp.validation(btn);\r\n        });\r\n    },\r\n\r\n    resetForm: function () {\r\n        setTimeout(function () {\r\n            $('.mui-form')[0].reset();\r\n        }, 2000)\r\n    },\r\n\r\n    getInputValue: function (btn) {\r\n        CommentApp.COMMENT_ID++;\r\n        var block = \"\";\r\n        var inputValue = {\r\n            titleValue: ($(btn).parent().find('input[name=name]').val()),\r\n            commentValue: ($(btn).parent().find('input[name=comment]').val()),\r\n            emailValue: ($(btn).parent().find('input[name=email]').val())\r\n        };\r\n        block += '<div class=\"comment-detail mui-col-md-4 mui-col-lg-3 mui-col-xs-5 mui-col-xs-offset-1\">';\r\n        block += '<a href=\"#\"><i class=\"fa fa-trash\" aria-hidden=\"true bin-delete\" onclick=\"CommentApp.removeComments(' + CommentApp.COMMENT_ID + ', event.target)\"></a></i>';\r\n        block += '<span class=\"name\">' + inputValue.titleValue + '</span>';\r\n        block += '<span class=\"body\"><q>' + inputValue.commentValue + '</q></span>';\r\n        block += '<span class=\"email\">' + inputValue.emailValue + '</span>';\r\n        block += '</div>';\r\n\r\n        $('.comment-box').prepend(block);\r\n    },\r\n\r\n    validation: function (btn) {\r\n        if ($(btn).parent().find('input[name=name]').val() == '' ||\r\n            $(btn).parent().find('input[name=comment]').val() == '' ||\r\n            $(btn).parent().find('input[name=email]').val() == '' ||\r\n            !$(btn).parent().find('input[name=email]').val().match(CommentApp.EMAIL_REGEX)) {\r\n            CommentApp.throwError();\r\n            return false\r\n        } else {\r\n            CommentApp.destroyMessage();\r\n            CommentApp.getInputValue(btn);\r\n            CommentApp.resetForm();\r\n        }\r\n    },\r\n\r\n    throwError: function () {\r\n        $(CommentApp.ERROR_TEXT_CL).fadeIn('fast');\r\n    },\r\n\r\n    destroyMessage: function () {\r\n        $(CommentApp.ERROR_TEXT_CL).fadeOut('slow');\r\n    },\r\n\r\n    scroll: function () {\r\n        $(\"a[href='#top']\").on('click', function() {\r\n            $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\r\n            return false;\r\n        });\r\n    }\r\n};\r\n\r\n$(document).ready(function () {\r\n    CommentApp.init();\r\n});"]}